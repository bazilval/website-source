<html>
<head>
  <title>Getting started | Ebean</title>
  <meta name="layout" content="_layout2/base-docs.html"/>
  <meta name="bread1" content="Getting started" href="/docs/getting-started/"/>
  <meta name="bread2" content="Intellij" href="/"/>
  <#assign page_edit_href="/docs/getting-started/intellij-idea.html">
  <#assign n0_start="active">
  <#assign n1_idea="active">
</head>
<body>
<h2 id="idea">IntelliJ IDEA Plugin</h2>
<p>
  Ebean uses bytecode enhancement to provide <code>dirty checking</code> and <code>lazy loading</code>.
  Install Ebean's IntelliJ plugin such that entity beans and transactional methods are enhanced
  when run develop and run tests in the IDE.
</p>


<div class="grid g2">
  <div>
    <h3 class="highlight">Install the Plugin</h3>
    <p>
      <em>File</em> > <em>Settings</em> > <em>Plugins</em> > <em>"ebean"</em>
    </p>
    <p>Install Ebean IDEA Plugin</p>
  </div>
  <div>
    <img src="/images/scn-idea-plugin-install.png" width="450">
  </div>
</div>

<div class="grid g2 mtl">
  <div>
    <h3 class="highlight">Turn plugin on per project</h3>
    <p>
      The plugin is turned on and off per project. We need to turn it on for it to perform enhancement
      on the current project.
    </p>
  </div>
  <div>
    <img src="/images/scn-idea-plugin-menu.png" width="450">
  </div>
</div>

<!--<hr class="mtl"/>-->

<h2 id="generated-sources">Generated Sources</h2>
<p>
  To confirm things are working properly we check that the <code>target/generated-sources/annotations</code> directory
  is marked as <em>Generated Sources Root</em>. If this directory isn't recognised by the IDE as a generated
  sources root then we won't be able to import and use query beans and the IDE will give compiler errors -
  unknown type for the query beans.
</p>
<div class="grid g2">
  <div>
    <h3 class="highlight">Generated Sources Root</h3>
    <p>
      Check that <code>target/generated-sources/annotations</code> directory is marked as <em>Generated Sources
      Root</em>
    </p>
  </div>
  <div>
    <img src="/images/scn-idea-plugin-target-generated2.png" width="450">
  </div>

  <div>
    <h3 class="highlight">Manually mark Generated Sources Root</h3>
    <p>
      If IntelliJ has not automatically marked the directory as <em>Generated Sources</em> we can manually do
      so:
    </p>
    <p>
      <em>Click on <code>target/generated-sources/annotations</code></em> -
      <em>Right Mouse</em> - <em>Mark Directory as</em> - <em>Generated Sources Root</em>
    </p>
  </div>
  <div>
    <img src="/images/scn-idea-plugin-mark-generated2.png" width="450">
  </div>
</div>

<h2 id="plugin-javaagent">Plugin javaagent</h2>
<p>
  What this plugin does is adds <code>ebean-agent.jar</code> as a <code>javaagent</code> to the command
  line when IDEA runs tests or main methods for the project. In the IDEA console we can click on the
  the command line to expand it showing us the full command line used including the <code>-javaagent</code>
  command line option specifying the ebean agent.
</p>
<div class="grid g2">
  <div>
    <h3 class="highlight">Command line</h3>
    <p>
      The very first line of output in the IDEA console is by default truncated with <code>...</code>. Click on
      this first line expands to show the entire command line used.
    </p>
  </div>
  <div>
    <img src="/images/scn-idea-plugin-cmdline-0c.png" width="450">
  </div>

  <div>
    <h3 class="highlight">Click on the command line</h3>
    <p>
      Clicking on the first line of the output expands to show the full command line used to run tests/main methods.
      In the command line we see the <code>-jaavagent</code> argument specifying the ebean agent
      used for enhancement.
    </p>
  </div>
  <div>
    <img src="/images/scn-idea-plugin-cmdline-1c.png" width="450">
  </div>
</div>

<nav class="next">
  <p class="next">
    <b>Next:</b>
    <a class="btn btn-info" href="maven">Maven</a>
    <a class="btn btn-info" href="gradle">Gradle</a>
  </p>
</nav>
</body>
</html>
